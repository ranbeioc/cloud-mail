import{aU as et,b as tt,_ as ue,a as Q,k as G,u as ee,z as I,g as A,aV as yt,m as z,o as _,p as S,r as ie,e as P,c as R,n as M,t as $,h as Y,q as Nt,w as Me,aW as Ct,aL as kt,C as X,I as nt,aX as ot,i as Pe,a6 as at,aY as bt,aZ as xe,S as me,X as $e,D as ye,ac as Ne,M as st,a_ as Et,U as wt,a0 as Je,$ as Ce,y as ae,K as Ge,G as ce,x as Se,s as Dt,aq as J,N as Ae,O as Be,f as x,ab as y,a7 as F,P as Re,ap as ze,a$ as Kt,L as St,F as q,b0 as Tt,H as lt,a5 as It,E as W,R as _t,d as ge,aK as xt,af as $t,aj as At,ak as Bt,an as re}from"./index-UPLxqIys.js";import{E as Lt}from"./el-dialog-Dw1sn1Dg.js";/* empty css                       */import{E as Ot}from"./el-checkbox-CiltggB2.js";/* empty css                        *//* empty css                 */import{E as Mt}from"./el-input-number-CLmGFeu9.js";import{u as H,b as Te,E as Pt,a as Rt}from"./el-tag-Hztg23_E.js";import{s as zt,E as Vt,a as Ut}from"./el-select-CTEkc7WU.js";import{E as Ft}from"./el-scrollbar-Bfx33inu.js";import{E as qt,a as jt,b as Ht}from"./el-radio-group-BgdeeQdX.js";/* empty css                 */import{E as Wt}from"./el-input-tag-BHMa04Qk.js";import{E as Yt,a as Jt}from"./el-table-column-BytZkFjo.js";import"./el-tooltip-l0sNRNKZ.js";/* empty css                  */import{d as Ie,b as Gt,E as Xt,a as Zt}from"./el-dropdown-item-D21egp3q.js";import{I as _e}from"./iconify-C7GRf3fV.js";import{u as Qt,a as en,b as tn,c as nn,d as on,e as an,f as sn}from"./role-j_CWaOy1.js";import{l as ln}from"./index-CBAgxBLr.js";import{i as rn,a as dn}from"./verify-utils-D6Av2NDy.js";import{_ as cn}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{E as un}from"./index-CGMvl886.js";import{E as hn}from"./vnode-ij9-6KPE.js";import{E as fn}from"./index-D_mR8hbo.js";import{a as pn,f as mn}from"./index-CqrevvuG.js";import{E as gn}from"./index-BkLNTY0t.js";import"./event-BB_Ol6Sd.js";import"./index-B5f2hswV.js";import"./index-B8y37sFp.js";const vn=tt({trigger:Te.trigger,triggerKeys:Te.triggerKeys,placement:Ie.placement,disabled:Te.disabled,visible:H.visible,transition:H.transition,popperOptions:Ie.popperOptions,tabindex:Ie.tabindex,content:H.content,popperStyle:H.popperStyle,popperClass:H.popperClass,enterable:{...H.enterable,default:!0},effect:{...H.effect,default:"light"},teleported:H.teleported,appendTo:H.appendTo,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),yn={"update:visible":t=>et(t),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},Nn="onUpdate:visible",Cn=Q({name:"ElPopover"}),kn=Q({...Cn,props:vn,emits:yn,setup(t,{expose:e,emit:n}){const a=t,o=G(()=>a[Nn]),s=ee("popover"),l=I(),h=G(()=>{var u;return(u=A(l))==null?void 0:u.popperRef}),f=G(()=>[{width:yt(a.width)},a.popperStyle]),m=G(()=>[s.b(),a.popperClass,{[s.m("plain")]:!!a.content}]),r=G(()=>a.transition===`${s.namespace.value}-fade-in-linear`),k=()=>{var u;(u=l.value)==null||u.hide()},v=()=>{n("before-enter")},b=()=>{n("before-leave")},N=()=>{n("after-enter")},C=()=>{n("update:visible",!1),n("after-leave")};return e({popperRef:h,hide:k}),(u,K)=>(_(),z(A(Pt),Nt({ref_key:"tooltipRef",ref:l},u.$attrs,{trigger:u.trigger,"trigger-keys":u.triggerKeys,placement:u.placement,disabled:u.disabled,visible:u.visible,transition:u.transition,"popper-options":u.popperOptions,tabindex:u.tabindex,content:u.content,offset:u.offset,"show-after":u.showAfter,"hide-after":u.hideAfter,"auto-close":u.autoClose,"show-arrow":u.showArrow,"aria-label":u.title,effect:u.effect,enterable:u.enterable,"popper-class":A(m),"popper-style":A(f),teleported:u.teleported,"append-to":u.appendTo,persistent:u.persistent,"gpu-acceleration":A(r),"onUpdate:visible":A(o),onBeforeShow:v,onBeforeHide:b,onShow:N,onHide:C}),{content:S(()=>[u.title?(_(),R("div",{key:0,class:M(A(s).e("title")),role:"title"},$(u.title),3)):P("v-if",!0),ie(u.$slots,"default",{},()=>[Y($(u.content),1)])]),default:S(()=>[u.$slots.reference?ie(u.$slots,"reference",{key:0}):P("v-if",!0)]),_:3},16,["trigger","trigger-keys","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","append-to","persistent","gpu-acceleration","onUpdate:visible"]))}});var bn=ue(kn,[["__file","popover.vue"]]);const Xe=(t,e)=>{const n=e.arg||e.value,a=n?.popperRef;a&&(a.triggerRef=t)};var En={mounted(t,e){Xe(t,e)},updated(t,e){Xe(t,e)}};const wn="popover",Dn=Ct(En,wn),Kn=Me(bn,{directive:Dn}),Sn=tt({type:{type:String,values:["primary","success","info","warning","danger",""],default:""},size:{type:String,values:kt,default:""},truncated:Boolean,lineClamp:{type:[String,Number]},tag:{type:String,default:"span"}}),Tn=Q({name:"ElText"}),In=Q({...Tn,props:Sn,setup(t){const e=t,n=I(),a=pn(),o=ee("text"),s=G(()=>[o.b(),o.m(e.type),o.m(a.value),o.is("truncated",e.truncated),o.is("line-clamp",!X(e.lineClamp))]),l=()=>{var h,f,m,r,k,v,b;if(bt().title)return;let C=!1;const u=((h=n.value)==null?void 0:h.textContent)||"";if(e.truncated){const K=(f=n.value)==null?void 0:f.offsetWidth,i=(m=n.value)==null?void 0:m.scrollWidth;K&&i&&i>K&&(C=!0)}else if(!X(e.lineClamp)){const K=(r=n.value)==null?void 0:r.offsetHeight,i=(k=n.value)==null?void 0:k.scrollHeight;K&&i&&i>K&&(C=!0)}C?(v=n.value)==null||v.setAttribute("title",u):(b=n.value)==null||b.removeAttribute("title")};return nt(l),ot(l),(h,f)=>(_(),z(at(h.tag),{ref_key:"textRef",ref:n,class:M(A(s)),style:Pe({"-webkit-line-clamp":h.lineClamp})},{default:S(()=>[ie(h.$slots,"default")]),_:3},8,["class","style"]))}});var _n=ue(In,[["__file","text.vue"]]);const xn=Me(_n),oe="$treeNodeId",Ze=function(t,e){!e||e[oe]||Object.defineProperty(e,oe,{value:t.id,enumerable:!1,configurable:!1,writable:!1})},Ve=(t,e)=>e?.[t||oe],Le=(t,e,n)=>{const a=t.value.currentNode;n();const o=t.value.currentNode;a!==o&&e("current-change",o?o.data:null,o)},Oe=t=>{let e=!0,n=!0,a=!0;for(let o=0,s=t.length;o<s;o++){const l=t[o];(l.checked!==!0||l.indeterminate)&&(e=!1,l.disabled||(a=!1)),(l.checked!==!1||l.indeterminate)&&(n=!1)}return{all:e,none:n,allWithoutDisable:a,half:!e&&!n}},de=function(t){if(t.childNodes.length===0||t.loading)return;const{all:e,none:n,half:a}=Oe(t.childNodes);e?(t.checked=!0,t.indeterminate=!1):a?(t.checked=!1,t.indeterminate=!0):n&&(t.checked=!1,t.indeterminate=!1);const o=t.parent;!o||o.level===0||t.store.checkStrictly||de(o)},ve=function(t,e){const n=t.store.props,a=t.data||{},o=n[e];if(Ne(o))return o(a,t);if(st(o))return a[o];if(X(o)){const s=a[e];return X(s)?"":s}};let $n=0;class Z{constructor(e){this.isLeafByUser=void 0,this.isLeaf=void 0,this.id=$n++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const n in e)xe(e,n)&&(this[n]=e[n]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){var e;const n=this.store;if(!n)throw new Error("[Node]store is required!");n.registerNode(this);const a=n.props;if(a&&typeof a.isLeaf<"u"){const l=ve(this,"isLeaf");et(l)&&(this.isLeafByUser=l)}if(n.lazy!==!0&&this.data?(this.setData(this.data),n.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&n.lazy&&n.defaultExpandAll&&!this.isLeafByUser&&this.expand(),me(this.data)||Ze(this,this.data),!this.data)return;const o=n.defaultExpandedKeys,s=n.key;s&&!$e(this.key)&&o&&o.includes(this.key)&&this.expand(null,n.autoExpandParent),s&&n.currentNodeKey!==void 0&&this.key===n.currentNodeKey&&(n.currentNode=this,n.currentNode.isCurrent=!0),n.lazy&&n._initDefaultCheckedNode(this),this.updateLeafState(),(this.level===1||((e=this.parent)==null?void 0:e.expanded)===!0)&&(this.canFocus=!0)}setData(e){me(e)||Ze(this,e),this.data=e,this.childNodes=[];let n;this.level===0&&me(this.data)?n=this.data:n=ve(this,"children")||[];for(let a=0,o=n.length;a<o;a++)this.insertChild({data:n[a]})}get label(){return ve(this,"label")}get key(){const e=this.store.key;return this.data?this.data[e]:null}get disabled(){return ve(this,"disabled")}get nextSibling(){const e=this.parent;if(e){const n=e.childNodes.indexOf(this);if(n>-1)return e.childNodes[n+1]}return null}get previousSibling(){const e=this.parent;if(e){const n=e.childNodes.indexOf(this);if(n>-1)return n>0?e.childNodes[n-1]:null}return null}contains(e,n=!0){return(this.childNodes||[]).some(a=>a===e||n&&a.contains(e))}remove(){const e=this.parent;e&&e.removeChild(this)}insertChild(e,n,a){if(!e)throw new Error("InsertChild error: child is required.");if(!(e instanceof Z)){if(!a){const o=this.getChildren(!0);o?.includes(e.data)||(X(n)||n<0?o?.push(e.data):o?.splice(n,0,e.data))}Object.assign(e,{parent:this,store:this.store}),e=ye(new Z(e)),e instanceof Z&&e.initialize()}e.level=this.level+1,X(n)||n<0?this.childNodes.push(e):this.childNodes.splice(n,0,e),this.updateLeafState()}insertBefore(e,n){let a;n&&(a=this.childNodes.indexOf(n)),this.insertChild(e,a)}insertAfter(e,n){let a;n&&(a=this.childNodes.indexOf(n),a!==-1&&(a+=1)),this.insertChild(e,a)}removeChild(e){const n=this.getChildren()||[],a=n.indexOf(e.data);a>-1&&n.splice(a,1);const o=this.childNodes.indexOf(e);o>-1&&(this.store&&this.store.deregisterNode(e),e.parent=null,this.childNodes.splice(o,1)),this.updateLeafState()}removeChildByData(e){let n=null;for(let a=0;a<this.childNodes.length;a++)if(this.childNodes[a].data===e){n=this.childNodes[a];break}n&&this.removeChild(n)}expand(e,n){const a=()=>{if(n){let o=this.parent;for(;o&&o.level>0;)o.expanded=!0,o=o.parent}this.expanded=!0,e&&e(),this.childNodes.forEach(o=>{o.canFocus=!0})};this.shouldLoadData()?this.loadData(o=>{me(o)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||de(this),a())}):a()}doCreateChildren(e,n={}){e.forEach(a=>{this.insertChild(Object.assign({data:a},n),void 0,!0)})}collapse(){this.expanded=!1,this.childNodes.forEach(e=>{e.canFocus=!1})}shouldLoadData(){return!!(this.store.lazy===!0&&this.store.load&&!this.loaded)}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser;return}const e=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!e||e.length===0;return}this.isLeaf=!1}setChecked(e,n,a,o){if(this.indeterminate=e==="half",this.checked=e===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:l,allWithoutDisable:h}=Oe(this.childNodes);!this.isLeaf&&!l&&h&&(this.checked=!1,e=!1);const f=()=>{if(n){const m=this.childNodes;for(let v=0,b=m.length;v<b;v++){const N=m[v];o=o||e!==!1;const C=N.disabled?N.checked:o;N.setChecked(C,n,!0,o)}const{half:r,all:k}=Oe(m);k||(this.checked=k,this.indeterminate=r)}};if(this.shouldLoadData()){this.loadData(()=>{f(),de(this)},{checked:e!==!1});return}else f()}const s=this.parent;!s||s.level===0||a||de(s)}getChildren(e=!1){if(this.level===0)return this.data;const n=this.data;if(!n)return null;const a=this.store.props;let o="children";return a&&(o=a.children||"children"),X(n[o])&&(n[o]=null),e&&!n[o]&&(n[o]=[]),n[o]}updateChildren(){const e=this.getChildren()||[],n=this.childNodes.map(s=>s.data),a={},o=[];e.forEach((s,l)=>{const h=s[oe];!!h&&n.findIndex(m=>m?.[oe]===h)>=0?a[h]={index:l,data:s}:o.push({index:l,data:s})}),this.store.lazy||n.forEach(s=>{a[s?.[oe]]||this.removeChildByData(s)}),o.forEach(({index:s,data:l})=>{this.insertChild({data:l},s)}),this.updateLeafState()}loadData(e,n={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(n).length)){this.loading=!0;const a=s=>{this.childNodes=[],this.doCreateChildren(s,n),this.loaded=!0,this.loading=!1,this.updateLeafState(),e&&e.call(this,s)},o=()=>{this.loading=!1};this.store.load(this,a,o)}else e&&e.call(this)}eachNode(e){const n=[this];for(;n.length;){const a=n.shift();n.unshift(...a.childNodes),e(a)}}reInitChecked(){this.store.checkStrictly||de(this)}}class An{constructor(e){this.lazy=!1,this.checkStrictly=!1,this.autoExpandParent=!1,this.defaultExpandAll=!1,this.checkDescendants=!1,this.currentNode=null,this.currentNodeKey=null;for(const n in e)xe(e,n)&&(this[n]=e[n]);this.nodesMap={}}initialize(){if(this.root=new Z({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const e=this.load;e(this.root,n=>{this.root.doCreateChildren(n),this._initDefaultCheckedNodes()},Et)}else this._initDefaultCheckedNodes()}filter(e){const n=this.filterNodeMethod,a=this.lazy,o=async function(s){const l=s.root?s.root.childNodes:s.childNodes;for(const[h,f]of l.entries())f.visible=!!n?.call(f,e,f.data,f),h%80===0&&h>0&&await Ce(),await o(f);if(!s.visible&&l.length){let h=!0;h=!l.some(f=>f.visible),s.root?s.root.visible=h===!1:s.visible=h===!1}e&&s.visible&&!s.isLeaf&&(!a||s.loaded)&&s.expand()};o(this)}setData(e){e!==this.root.data?(this.nodesMap={},this.root.setData(e),this._initDefaultCheckedNodes(),this.setCurrentNodeKey(this.currentNodeKey)):this.root.updateChildren()}getNode(e){if(e instanceof Z)return e;const n=wt(e)?Ve(this.key,e):e;return this.nodesMap[n]||null}insertBefore(e,n){var a;const o=this.getNode(n);(a=o.parent)==null||a.insertBefore({data:e},o)}insertAfter(e,n){var a;const o=this.getNode(n);(a=o.parent)==null||a.insertAfter({data:e},o)}remove(e){const n=this.getNode(e);n&&n.parent&&(n===this.currentNode&&(this.currentNode=null),n.parent.removeChild(n))}append(e,n){const a=Je(n)?this.root:this.getNode(n);a&&a.insertChild({data:e})}_initDefaultCheckedNodes(){const e=this.defaultCheckedKeys||[],n=this.nodesMap;e.forEach(a=>{const o=n[a];o&&o.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(e){const n=this.defaultCheckedKeys||[];!$e(e.key)&&n.includes(e.key)&&e.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(e){e!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=e,this._initDefaultCheckedNodes())}registerNode(e){const n=this.key;if(!(!e||!e.data))if(!n)this.nodesMap[e.id]=e;else{const a=e.key;$e(a)||(this.nodesMap[a]=e)}}deregisterNode(e){!this.key||!e||!e.data||(e.childNodes.forEach(a=>{this.deregisterNode(a)}),delete this.nodesMap[e.key])}getCheckedNodes(e=!1,n=!1){const a=[],o=function(s){(s.root?s.root.childNodes:s.childNodes).forEach(h=>{(h.checked||n&&h.indeterminate)&&(!e||e&&h.isLeaf)&&a.push(h.data),o(h)})};return o(this),a}getCheckedKeys(e=!1){return this.getCheckedNodes(e).map(n=>(n||{})[this.key])}getHalfCheckedNodes(){const e=[],n=function(a){(a.root?a.root.childNodes:a.childNodes).forEach(s=>{s.indeterminate&&e.push(s.data),n(s)})};return n(this),e}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(e=>(e||{})[this.key])}_getAllNodes(){const e=[],n=this.nodesMap;for(const a in n)xe(n,a)&&e.push(n[a]);return e}updateChildren(e,n){const a=this.nodesMap[e];if(!a)return;const o=a.childNodes;for(let s=o.length-1;s>=0;s--){const l=o[s];this.remove(l.data)}for(let s=0,l=n.length;s<l;s++){const h=n[s];this.append(h,a.data)}}_setCheckedKeys(e,n=!1,a){const o=this._getAllNodes().sort((f,m)=>f.level-m.level),s=Object.create(null),l=Object.keys(a);o.forEach(f=>f.setChecked(!1,!1));const h=f=>{f.childNodes.forEach(m=>{var r;s[m.data[e]]=!0,(r=m.childNodes)!=null&&r.length&&h(m)})};for(let f=0,m=o.length;f<m;f++){const r=o[f],k=r.data[e].toString();if(!l.includes(k)){r.checked&&!s[k]&&r.setChecked(!1,!1);continue}if(r.childNodes.length&&h(r),r.isLeaf||this.checkStrictly){r.setChecked(!0,!1);continue}if(r.setChecked(!0,!0),n){r.setChecked(!1,!1);const b=function(N){N.childNodes.forEach(u=>{u.isLeaf||u.setChecked(!1,!1),b(u)})};b(r)}}}setCheckedNodes(e,n=!1){const a=this.key,o={};e.forEach(s=>{o[(s||{})[a]]=!0}),this._setCheckedKeys(a,n,o)}setCheckedKeys(e,n=!1){this.defaultCheckedKeys=e;const a=this.key,o={};e.forEach(s=>{o[s]=!0}),this._setCheckedKeys(a,n,o)}setDefaultExpandedKeys(e){e=e||[],this.defaultExpandedKeys=e,e.forEach(n=>{const a=this.getNode(n);a&&a.expand(null,this.autoExpandParent)})}setChecked(e,n,a){const o=this.getNode(e);o&&o.setChecked(!!n,a)}getCurrentNode(){return this.currentNode}setCurrentNode(e){const n=this.currentNode;n&&(n.isCurrent=!1),this.currentNode=e,this.currentNode.isCurrent=!0}setUserCurrentNode(e,n=!0){var a;const o=e[this.key],s=this.nodesMap[o];this.setCurrentNode(s),n&&this.currentNode&&this.currentNode.level>1&&((a=this.currentNode.parent)==null||a.expand(null,!0))}setCurrentNodeKey(e,n=!0){var a;if(this.currentNodeKey=e,Je(e)){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const o=this.getNode(e);o&&(this.setCurrentNode(o),n&&this.currentNode&&this.currentNode.level>1&&((a=this.currentNode.parent)==null||a.expand(null,!0)))}}const Ue="RootTree",rt="NodeInstance",Qe="TreeNodeMap",Bn=Q({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(t){const e=ee("tree"),n=ae(rt),a=ae(Ue);return()=>{const o=t.node,{data:s,store:l}=o;return t.renderContent?t.renderContent(Ge,{_self:n,node:o,data:s,store:l}):ie(a.ctx.slots,"default",{node:o,data:s},()=>[Ge(xn,{tag:"span",truncated:!0,class:e.be("node","label")},()=>[o.label])])}}});var Ln=ue(Bn,[["__file","tree-node-content.vue"]]);function dt(t){const e=ae(Qe,null),n={treeNodeExpand:a=>{var o;t.node!==a&&((o=t.node)==null||o.collapse())},children:[]};return e&&e.children.push(n),ce(Qe,n),{broadcastExpanded:a=>{if(t.accordion)for(const o of n.children)o.treeNodeExpand(a)}}}const it=Symbol("dragEvents");function On({props:t,ctx:e,el$:n,dropIndicator$:a,store:o}){const s=ee("tree"),l=I({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return ce(it,{treeNodeDragStart:({event:r,treeNode:k})=>{if(r.dataTransfer){if(Ne(t.allowDrag)&&!t.allowDrag(k.node))return r.preventDefault(),!1;r.dataTransfer.effectAllowed="move";try{r.dataTransfer.setData("text/plain","")}catch{}l.value.draggingNode=k,e.emit("node-drag-start",k.node,r)}},treeNodeDragOver:({event:r,treeNode:k})=>{if(!r.dataTransfer)return;const v=k,b=l.value.dropNode;b&&b.node.id!==v.node.id&&Se(b.$el,s.is("drop-inner"));const N=l.value.draggingNode;if(!N||!v)return;let C=!0,u=!0,K=!0,i=!0;Ne(t.allowDrop)&&(C=t.allowDrop(N.node,v.node,"prev"),i=u=t.allowDrop(N.node,v.node,"inner"),K=t.allowDrop(N.node,v.node,"next")),r.dataTransfer.dropEffect=u||C||K?"move":"none",(C||u||K)&&b?.node.id!==v.node.id&&(b&&e.emit("node-drag-leave",N.node,b.node,r),e.emit("node-drag-enter",N.node,v.node,r)),C||u||K?l.value.dropNode=v:l.value.dropNode=null,v.node.nextSibling===N.node&&(K=!1),v.node.previousSibling===N.node&&(C=!1),v.node.contains(N.node,!1)&&(u=!1),(N.node===v.node||N.node.contains(v.node))&&(C=!1,u=!1,K=!1);const O=v.$el,V=O.querySelector(`.${s.be("node","content")}`).getBoundingClientRect(),j=n.value.getBoundingClientRect();let L;const te=C?u?.25:K?.45:1:-1,ne=K?u?.75:C?.55:0:1;let g=-9999;const E=r.clientY-V.top;E<V.height*te?L="before":E>V.height*ne?L="after":u?L="inner":L="none";const B=O.querySelector(`.${s.be("node","expand-icon")}`).getBoundingClientRect(),U=a.value;L==="before"?g=B.top-j.top:L==="after"&&(g=B.bottom-j.top),U.style.top=`${g}px`,U.style.left=`${B.right-j.left}px`,L==="inner"?Dt(O,s.is("drop-inner")):Se(O,s.is("drop-inner")),l.value.showDropIndicator=L==="before"||L==="after",l.value.allowDrop=l.value.showDropIndicator||i,l.value.dropType=L,e.emit("node-drag-over",N.node,v.node,r)},treeNodeDragEnd:r=>{var k,v;const{draggingNode:b,dropType:N,dropNode:C}=l.value;if(r.preventDefault(),r.dataTransfer&&(r.dataTransfer.dropEffect="move"),b?.node.data&&C){const u={data:b.node.data};N!=="none"&&b.node.remove(),N==="before"?(k=C.node.parent)==null||k.insertBefore(u,C.node):N==="after"?(v=C.node.parent)==null||v.insertAfter(u,C.node):N==="inner"&&C.node.insertChild(u),N!=="none"&&(o.value.registerNode(u),o.value.key&&b.node.eachNode(K=>{var i;(i=o.value.nodesMap[K.data[o.value.key]])==null||i.setChecked(K.checked,!o.value.checkStrictly)})),Se(C.$el,s.is("drop-inner")),e.emit("node-drag-end",b.node,C.node,N,r),N!=="none"&&e.emit("node-drop",b.node,C.node,N,r)}b&&!C&&e.emit("node-drag-end",b.node,null,N,r),l.value.showDropIndicator=!1,l.value.draggingNode=null,l.value.dropNode=null,l.value.allowDrop=!0}}),{dragState:l}}const Mn=Q({name:"ElTreeNode",components:{ElCollapseTransition:fn,ElCheckbox:Ot,NodeContent:Ln,ElIcon:St,Loading:Kt},props:{node:{type:Z,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:Boolean},emits:["node-expand"],setup(t,e){const n=ee("tree"),{broadcastExpanded:a}=dt(t),o=ae(Ue),s=I(!1),l=I(!1),h=I(),f=I(),m=I(),r=ae(it),k=lt();ce(rt,k),t.node.expanded&&(s.value=!0,l.value=!0);const v=o.props.props.children||"children";q(()=>{var g;const E=(g=t.node.data)==null?void 0:g[v];return E&&[...E]},()=>{t.node.updateChildren()}),q(()=>t.node.indeterminate,g=>{C(t.node.checked,g)}),q(()=>t.node.checked,g=>{C(g,t.node.indeterminate)}),q(()=>t.node.childNodes.length,()=>t.node.reInitChecked()),q(()=>t.node.expanded,g=>{Ce(()=>s.value=g),g&&(l.value=!0)});const b=g=>Ve(o.props.nodeKey,g.data),N=g=>{const E=t.props.class;if(!E)return{};let B;if(Ne(E)){const{data:U}=g;B=E(U,g)}else B=E;return st(B)?{[B]:!0}:B},C=(g,E)=>{(h.value!==g||f.value!==E)&&o.ctx.emit("check-change",t.node.data,g,E),h.value=g,f.value=E},u=g=>{Le(o.store,o.ctx.emit,()=>{var E;if((E=o?.props)==null?void 0:E.nodeKey){const U=b(t.node);o.store.value.setCurrentNodeKey(U)}else o.store.value.setCurrentNode(t.node)}),o.currentNode.value=t.node,o.props.expandOnClickNode&&i(),(o.props.checkOnClickNode||t.node.isLeaf&&o.props.checkOnClickLeaf&&t.showCheckbox)&&!t.node.disabled&&O(!t.node.checked),o.ctx.emit("node-click",t.node.data,t.node,k,g)},K=g=>{var E;(E=o.instance.vnode.props)!=null&&E.onNodeContextmenu&&(g.stopPropagation(),g.preventDefault()),o.ctx.emit("node-contextmenu",g,t.node.data,t.node,k)},i=()=>{t.node.isLeaf||(s.value?(o.ctx.emit("node-collapse",t.node.data,t.node,k),t.node.collapse()):t.node.expand(()=>{e.emit("node-expand",t.node.data,t.node,k)}))},O=g=>{t.node.setChecked(g,!o?.props.checkStrictly),Ce(()=>{const E=o.store.value;o.ctx.emit("check",t.node.data,{checkedNodes:E.getCheckedNodes(),checkedKeys:E.getCheckedKeys(),halfCheckedNodes:E.getHalfCheckedNodes(),halfCheckedKeys:E.getHalfCheckedKeys()})})};return{ns:n,node$:m,tree:o,expanded:s,childNodeRendered:l,oldChecked:h,oldIndeterminate:f,getNodeKey:b,getNodeClass:N,handleSelectChange:C,handleClick:u,handleContextMenu:K,handleExpandIconClick:i,handleCheckChange:O,handleChildNodeExpand:(g,E,B)=>{a(E),o.ctx.emit("node-expand",g,E,B)},handleDragStart:g=>{o.props.draggable&&r.treeNodeDragStart({event:g,treeNode:t})},handleDragOver:g=>{g.preventDefault(),o.props.draggable&&r.treeNodeDragOver({event:g,treeNode:{$el:m.value,node:t.node}})},handleDrop:g=>{g.preventDefault()},handleDragEnd:g=>{o.props.draggable&&r.treeNodeDragEnd(g)},CaretRight:Tt}}});function Pn(t,e,n,a,o,s){const l=J("el-icon"),h=J("el-checkbox"),f=J("loading"),m=J("node-content"),r=J("el-tree-node"),k=J("el-collapse-transition");return Ae((_(),R("div",{ref:"node$",class:M([t.ns.b("node"),t.ns.is("expanded",t.expanded),t.ns.is("current",t.node.isCurrent),t.ns.is("hidden",!t.node.visible),t.ns.is("focusable",!t.node.disabled),t.ns.is("checked",!t.node.disabled&&t.node.checked),t.getNodeClass(t.node)]),role:"treeitem",tabindex:"-1","aria-expanded":t.expanded,"aria-disabled":t.node.disabled,"aria-checked":t.node.checked,draggable:t.tree.props.draggable,"data-key":t.getNodeKey(t.node),onClick:F(t.handleClick,["stop"]),onContextmenu:t.handleContextMenu,onDragstart:F(t.handleDragStart,["stop"]),onDragover:F(t.handleDragOver,["stop"]),onDragend:F(t.handleDragEnd,["stop"]),onDrop:F(t.handleDrop,["stop"])},[x("div",{class:M(t.ns.be("node","content")),style:Pe({paddingLeft:(t.node.level-1)*t.tree.props.indent+"px"})},[t.tree.props.icon||t.CaretRight?(_(),z(l,{key:0,class:M([t.ns.be("node","expand-icon"),t.ns.is("leaf",t.node.isLeaf),{expanded:!t.node.isLeaf&&t.expanded}]),onClick:F(t.handleExpandIconClick,["stop"])},{default:S(()=>[(_(),z(at(t.tree.props.icon||t.CaretRight)))]),_:1},8,["class","onClick"])):P("v-if",!0),t.showCheckbox?(_(),z(h,{key:1,"model-value":t.node.checked,indeterminate:t.node.indeterminate,disabled:!!t.node.disabled,onClick:F(()=>{},["stop"]),onChange:t.handleCheckChange},null,8,["model-value","indeterminate","disabled","onClick","onChange"])):P("v-if",!0),t.node.loading?(_(),z(l,{key:2,class:M([t.ns.be("node","loading-icon"),t.ns.is("loading")])},{default:S(()=>[y(f)]),_:1},8,["class"])):P("v-if",!0),y(m,{node:t.node,"render-content":t.renderContent},null,8,["node","render-content"])],6),y(k,null,{default:S(()=>[!t.renderAfterExpand||t.childNodeRendered?Ae((_(),R("div",{key:0,class:M(t.ns.be("node","children")),role:"group","aria-expanded":t.expanded,onClick:F(()=>{},["stop"])},[(_(!0),R(Re,null,ze(t.node.childNodes,v=>(_(),z(r,{key:t.getNodeKey(v),"render-content":t.renderContent,"render-after-expand":t.renderAfterExpand,"show-checkbox":t.showCheckbox,node:v,accordion:t.accordion,props:t.props,onNodeExpand:t.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,["aria-expanded","onClick"])),[[Be,t.expanded]]):P("v-if",!0)]),_:1})],42,["aria-expanded","aria-disabled","aria-checked","draggable","data-key","onClick","onContextmenu","onDragstart","onDragover","onDragend","onDrop"])),[[Be,t.node.visible]])}var Rn=ue(Mn,[["render",Pn],["__file","tree-node.vue"]]);function zn({el$:t},e){const n=ee("tree");nt(()=>{o()}),ot(()=>{Array.from(t.value.querySelectorAll("input[type=checkbox]")).forEach(l=>{l.setAttribute("tabindex","-1")})}),It(t,"keydown",s=>{const l=s.target;if(!l.className.includes(n.b("node")))return;const h=s.code,f=Array.from(t.value.querySelectorAll(`.${n.is("focusable")}[role=treeitem]`)),m=f.indexOf(l);let r;if([W.up,W.down].includes(h)){if(s.preventDefault(),h===W.up){r=m===-1?0:m!==0?m-1:f.length-1;const v=r;for(;!e.value.getNode(f[r].dataset.key).canFocus;){if(r--,r===v){r=-1;break}r<0&&(r=f.length-1)}}else{r=m===-1?0:m<f.length-1?m+1:0;const v=r;for(;!e.value.getNode(f[r].dataset.key).canFocus;){if(r++,r===v){r=-1;break}r>=f.length&&(r=0)}}r!==-1&&f[r].focus()}[W.left,W.right].includes(h)&&(s.preventDefault(),l.click());const k=l.querySelector('[type="checkbox"]');[W.enter,W.numpadEnter,W.space].includes(h)&&k&&(s.preventDefault(),k.click())});const o=()=>{var s;if(!t.value)return;const l=Array.from(t.value.querySelectorAll(`.${n.is("focusable")}[role=treeitem]`));Array.from(t.value.querySelectorAll("input[type=checkbox]")).forEach(m=>{m.setAttribute("tabindex","-1")});const f=t.value.querySelectorAll(`.${n.is("checked")}[role=treeitem]`);if(f.length){f[0].setAttribute("tabindex","0");return}(s=l[0])==null||s.setAttribute("tabindex","0")}}const Vn=Q({name:"ElTree",components:{ElTreeNode:Rn},props:{data:{type:ge(Array),default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkOnClickLeaf:{type:Boolean,default:!0},checkDescendants:Boolean,autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:{type:ge(Function)},showCheckbox:Boolean,draggable:Boolean,allowDrag:{type:ge(Function)},allowDrop:{type:ge(Function)},props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:Boolean,highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:_t}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(t,e){const{t:n}=xt(),a=ee("tree"),o=ae(zt,null),s=I(new An({key:t.nodeKey,data:t.data,lazy:t.lazy,props:t.props,load:t.load,currentNodeKey:t.currentNodeKey,checkStrictly:t.checkStrictly,checkDescendants:t.checkDescendants,defaultCheckedKeys:t.defaultCheckedKeys,defaultExpandedKeys:t.defaultExpandedKeys,autoExpandParent:t.autoExpandParent,defaultExpandAll:t.defaultExpandAll,filterNodeMethod:t.filterNodeMethod}));s.value.initialize();const l=I(s.value.root),h=I(null),f=I(null),m=I(null),{broadcastExpanded:r}=dt(t),{dragState:k}=On({props:t,ctx:e,el$:f,dropIndicator$:m,store:s});zn({el$:f},s);const v=G(()=>{const{childNodes:c}=l.value,w=o?o.hasFilteredOptions!==0:!1;return(!c||c.length===0||c.every(({visible:d})=>!d))&&!w});q(()=>t.currentNodeKey,c=>{s.value.setCurrentNodeKey(c??null)}),q(()=>t.defaultCheckedKeys,c=>{s.value.setDefaultCheckedKey(c??[])}),q(()=>t.defaultExpandedKeys,c=>{s.value.setDefaultExpandedKeys(c??[])}),q(()=>t.data,c=>{s.value.setData(c)},{deep:!0}),q(()=>t.checkStrictly,c=>{s.value.checkStrictly=c});const b=c=>{if(!t.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");s.value.filter(c)},N=c=>Ve(t.nodeKey,c.data),C=c=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const w=s.value.getNode(c);if(!w)return[];const d=[w.data];let p=w.parent;for(;p&&p!==l.value;)d.push(p.data),p=p.parent;return d.reverse()},u=(c,w)=>s.value.getCheckedNodes(c,w),K=c=>s.value.getCheckedKeys(c),i=()=>{const c=s.value.getCurrentNode();return c?c.data:null},O=()=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const c=i();return c?c[t.nodeKey]:null},V=(c,w)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");s.value.setCheckedNodes(c,w)},j=(c,w)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");s.value.setCheckedKeys(c,w)},L=(c,w,d)=>{s.value.setChecked(c,w,d)},te=()=>s.value.getHalfCheckedNodes(),ne=()=>s.value.getHalfCheckedKeys(),g=(c,w=!0)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");Le(s,e.emit,()=>{r(c),s.value.setUserCurrentNode(c,w)})},E=(c,w=!0)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");Le(s,e.emit,()=>{r(),s.value.setCurrentNodeKey(c??null,w)})},B=c=>s.value.getNode(c),U=c=>{s.value.remove(c)},ke=(c,w)=>{s.value.append(c,w)},be=(c,w)=>{s.value.insertBefore(c,w)},Ee=(c,w)=>{s.value.insertAfter(c,w)},we=(c,w,d)=>{r(w),e.emit("node-expand",c,w,d)},he=(c,w)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");s.value.updateChildren(c,w)};return ce(Ue,{ctx:e,props:t,store:s,root:l,currentNode:h,instance:lt()}),ce(mn,void 0),{ns:a,store:s,root:l,currentNode:h,dragState:k,el$:f,dropIndicator$:m,isEmpty:v,filter:b,getNodeKey:N,getNodePath:C,getCheckedNodes:u,getCheckedKeys:K,getCurrentNode:i,getCurrentKey:O,setCheckedNodes:V,setCheckedKeys:j,setChecked:L,getHalfCheckedNodes:te,getHalfCheckedKeys:ne,setCurrentNode:g,setCurrentKey:E,t:n,getNode:B,remove:U,append:ke,insertBefore:be,insertAfter:Ee,handleNodeExpand:we,updateKeyChildren:he}}});function Un(t,e,n,a,o,s){const l=J("el-tree-node");return _(),R("div",{ref:"el$",class:M([t.ns.b(),t.ns.is("dragging",!!t.dragState.draggingNode),t.ns.is("drop-not-allow",!t.dragState.allowDrop),t.ns.is("drop-inner",t.dragState.dropType==="inner"),{[t.ns.m("highlight-current")]:t.highlightCurrent}]),role:"tree"},[(_(!0),R(Re,null,ze(t.root.childNodes,h=>(_(),z(l,{key:t.getNodeKey(h),node:h,props:t.props,accordion:t.accordion,"render-after-expand":t.renderAfterExpand,"show-checkbox":t.showCheckbox,"render-content":t.renderContent,onNodeExpand:t.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),t.isEmpty?(_(),R("div",{key:0,class:M(t.ns.e("empty-block"))},[ie(t.$slots,"empty",{},()=>{var h;return[x("span",{class:M(t.ns.e("empty-text"))},$((h=t.emptyText)!=null?h:t.t("el.tree.emptyText")),3)]})],2)):P("v-if",!0),Ae(x("div",{ref:"dropIndicator$",class:M(t.ns.e("drop-indicator"))},null,2),[[Be,t.dragState.showDropIndicator]])],2)}var Fn=ue(Vn,[["render",Un],["__file","tree.vue"]]);const qn=Me(Fn),jn={class:"perm-box"},Hn={class:"header-actions"},Wn={class:"role-name"},Yn={key:0},Jn={class:"description"},Gn={style:{"font-size":"18px"}},Xn={style:{"font-weight":"bold","margin-bottom":"2px"}},Zn={style:{"font-weight":"bold","margin-top":"10px","margin-bottom":"2px"}},Qn={class:"dialog-box"},eo={class:"dialog-input"},to=Object.assign({name:"role"},{__name:"index",setup(t){const{domainList:e}=$t(),{t:n,locale:a}=At(),o=Bt(),s=Qt(),l=I(!1),h=ye([]),f=I([]),m=I({}),r=I(!1),k=I(!1),v=I(!0),b=I(null),N=I(null),C=I(200),u=I(!0),K=ye({title:"",type:""}),i=ye({name:null,description:null,banEmail:[],banEmailType:0,sendType:"count",sendCount:0,accountCount:0,sort:0,isDefault:0,availDomain:[]});let O=[];const V=I(!1);let j={};he(),en().then(d=>{h.push(...d)}),O=e.map(d=>{const p=d.replace(/^@/,"");return{label:p,value:p}});function L(){const d=i.availDomain.findIndex(p=>!O.map(T=>T.value).includes(p));d>-1&&i.availDomain.splice(d,1)}function te(d){const p=Array.from(new Set(d.split(/[,，]/).map(T=>T.trim()).filter(T=>T)));i.banEmail.splice(i.banEmail.length-1,1),p.forEach(T=>{(rn(T)||dn(T))&&!i.banEmail.includes(T)&&i.banEmail.push(T)})}function ne(){K.type==="add"?we():U()}function g(d){nn(d.roleId).then(()=>{re({message:n("saveSuccessMsg"),type:"success",plain:!0}),c()})}function E(d){gn.confirm(n("delConfirm",{msg:d.name}),{confirmButtonText:n("confirm"),cancelButtonText:n("confirm"),type:"warning"}).then(()=>{on(d.roleId).then(()=>{re({message:n("copySuccessMsg"),type:"success",plain:!0}),c(),o.refreshUserList(),s.refreshSelect()})})}function B(d){if(d){const p=m.value?.store.nodesMap;for(const T in p)p[T].expanded=!0}else{const p=m.value?.store.nodesMap;for(const T in p)p[T].expanded=!1}}function U(){if(!i.name){re({message:n("emptyRoleNameMsg"),type:"error",plain:!0});return}const d={...i,roleId:j.roleId},p=m.value.getCheckedKeys(),T=m.value.getHalfCheckedKeys();d.permIds=[...p,...T],r.value=!0,sn(d).then(()=>{re({message:n("saveSuccessMsg"),type:"success",plain:!0}),f.value.map(fe=>fe.name).includes(d.name)||s.refreshSelect(),l.value=!1,c()}).finally(()=>{r.value=!1})}function ke(){i.name=null,i.description=null,i.sort=0,i.sendType="count",i.sendCount=0,i.accountCount=0,i.banEmail=[],i.banEmailType=0,i.availDomain=[],m.value.setCheckedKeys([])}function be(d){j=d,K.title=n("changeRoleTitle"),K.type="set",l.value=!0,i.sort=d.sort,i.name=d.name,i.description=d.description,i.sendType=d.sendType,i.sendCount=d.sendCount,i.accountCount=d.accountCount,i.banEmail=d.banEmail,i.banEmailType=d.banEmailType,i.availDomain=d.availDomain,Ce(()=>{m.value.setCheckedKeys(d.permIds)})}function Ee(){K.title=n("addRoleTitle"),K.type="add",l.value=!0}function we(){const d={...i},p=m.value.getCheckedKeys(),T=m.value.getHalfCheckedKeys();d.permIds=[...p,...T],r.value=!0,an(d).then(()=>{re({message:n("addSuccessMsg"),type:"success",plain:!0}),l.value=!1,c(),s.refreshSelect()}).finally(()=>{r.value=!1})}function he(){k.value=!0,f.length=0,c()}function c(){tn().then(d=>{f.value=d}).finally(()=>{k.value=!1,setTimeout(()=>{u.value=!1},200)})}function w(){v.value=window.innerWidth>767,b.value=window.innerWidth<480?a.value==="en"?85:75:null,N.value=window.innerWidth<480?75:null,C.value=window.innerWidth<480?180:200}return w(),window.onresize=()=>{w()},(d,p)=>{const T=Jt,Fe=Rt,fe=un,De=Zt,ct=Xt,ut=Gt,ht=Yt,ft=Ft,pt=Kn,qe=hn,mt=Wt,je=jt,He=qt,pe=Ut,We=Vt,Ke=Mt,Ye=Ht,gt=qn,vt=Lt;return _(),R("div",jn,[x("div",Hn,[y(A(_e),{class:"icon",icon:"ion:add-outline",width:"23",height:"23",onClick:Ee}),y(A(_e),{class:"icon",icon:"ion:reload",width:"18",height:"18",onClick:he})]),y(ft,{class:"perm-scrollbar"},{default:S(()=>[x("div",{class:M(["loading",k.value?"loading-show":"loading-hide"]),style:Pe(u.value?"background: transparent":"")},[y(ln)],6),y(ht,{data:f.value,style:{height:"100%"},"empty-text":""},{default:S(()=>[y(T,{width:"10"}),y(T,{label:d.$t("role"),prop:"name","min-width":C.value},{default:S(D=>[x("div",Wn,[x("span",null,$(D.row.name),1),D.row.isDefault?(_(),R("span",Yn,[y(Fe,{class:"def-tag"},{default:S(()=>[Y($(d.$t("default")),1)]),_:1})])):P("",!0)])]),_:1},8,["label","min-width"]),y(T,{label:d.$t("order"),width:N.value,prop:"sort"},null,8,["label","width"]),v.value?(_(),z(T,{key:0,label:d.$t("description"),"min-width":"200",prop:"description"},{default:S(D=>[x("div",Jn,[x("span",null,$(D.row.description),1)])]),_:1},8,["label"])):P("",!0),y(T,{label:d.$t("tabSetting"),width:b.value},{default:S(D=>[y(ut,{trigger:"click"},{dropdown:S(()=>[y(ct,null,{default:S(()=>[y(De,{onClick:se=>be(D.row)},{default:S(()=>[Y($(d.$t("change")),1)]),_:2},1032,["onClick"]),y(De,{onClick:se=>g(D.row)},{default:S(()=>[Y($(d.$t("default")),1)]),_:2},1032,["onClick"]),y(De,{onClick:se=>E(D.row)},{default:S(()=>[Y($(d.$t("delete")),1)]),_:2},1032,["onClick"])]),_:2},1024)]),default:S(()=>[y(fe,{size:"small",type:"primary"},{default:S(()=>[Y($(d.$t("action")),1)]),_:1})]),_:2},1024)]),_:1},8,["label","width"])]),_:1},8,["data"])]),_:1}),y(vt,{top:"5vh",class:"dialog",modelValue:l.value,"onUpdate:modelValue":p[12]||(p[12]=D=>l.value=D),onClosed:ke},{header:S(()=>[x("span",Gn,$(K.title),1),y(pt,{width:"340",title:A(n)("featDesc"),placement:"bottom"},{reference:S(()=>[y(A(_e),{class:"warning",icon:"fe:warning",width:"18",height:"18"})]),default:S(()=>[x("div",Xn,$(A(n)("emailInterception")),1),x("div",null,$(A(n)("emailInterceptionDesc")),1),x("div",Zn,$(A(n)("availableDomains")),1),x("div",null,$(A(n)("availableDomainsDesc")),1)]),_:1},8,["title"])]),default:S(()=>[x("div",Qn,[y(qe,{class:"dialog-input",modelValue:i.name,"onUpdate:modelValue":p[0]||(p[0]=D=>i.name=D),type:"text",maxlength:12,placeholder:d.$t("roleName"),autocomplete:"off"},null,8,["modelValue","placeholder"]),y(qe,{class:"dialog-input",modelValue:i.description,"onUpdate:modelValue":p[1]||(p[1]=D=>i.description=D),maxlength:30,type:"text",placeholder:d.$t("description"),autocomplete:"off"},null,8,["modelValue","placeholder"]),y(mt,{class:M(["dialog-input-tag",i.banEmail.length===0?"dialog-input":""]),"tag-type":"warning",modelValue:i.banEmail,"onUpdate:modelValue":p[2]||(p[2]=D=>i.banEmail=D),onAddTag:te,type:"text",placeholder:d.$t("emailInterception"),autocomplete:"off"},null,8,["class","modelValue","placeholder"]),i.banEmail.length>0?(_(),z(He,{key:0,class:"dialog-radio",modelValue:i.banEmailType,"onUpdate:modelValue":p[3]||(p[3]=D=>i.banEmailType=D)},{default:S(()=>[y(je,{label:d.$t("removeAll"),value:0},null,8,["label"]),y(je,{label:d.$t("removeContent"),value:1},null,8,["label"])]),_:1},8,["modelValue"])):P("",!0),y(We,{class:"dialog-input",modelValue:i.availDomain,"onUpdate:modelValue":p[4]||(p[4]=D=>i.availDomain=D),multiple:"",filterable:"","allow-create":"","default-first-option":"","reserve-keyword":!1,"tag-type":"success",placeholder:d.$t("availableDomains"),onChange:L},{default:S(()=>[(_(!0),R(Re,null,ze(A(O),D=>(_(),z(pe,{key:D.value,label:D.label,value:D.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"]),x("div",eo,[y(Ke,{placeholder:d.$t("order"),min:0,max:9999,modelValue:i.sort,"onUpdate:modelValue":p[5]||(p[5]=D=>i.sort=D),modelModifiers:{number:!0},"controls-position":"right",autocomplete:"off"},null,8,["placeholder","modelValue"])]),y(He,{modelValue:V.value,"onUpdate:modelValue":p[6]||(p[6]=D=>V.value=D),size:"small",onChange:B,class:"perm-expand"},{default:S(()=>[y(Ye,{label:d.$t("expand"),value:!0},null,8,["label"]),y(Ye,{label:d.$t("collapse"),value:!1},null,8,["label"])]),_:1},8,["modelValue"]),y(gt,{"expand-on-click-node":!1,"check-on-click-node":!1,ref_key:"tree",ref:m,data:h,"show-checkbox":"","node-key":"permId","default-expand-all":V.value,props:{label:"name"}},{default:S(({node:D,data:se})=>[x("div",null,[x("span",null,$(D.label),1),se.permKey==="email:send"?(_(),R("span",{key:0,class:"send-num",onClick:p[9]||(p[9]=F(()=>{},["stop"]))},[y(Ke,{modelValue:i.sendCount,"onUpdate:modelValue":p[7]||(p[7]=le=>i.sendCount=le),"controls-position":"right",min:0,max:99999,size:"small",placeholder:d.$t("total")},null,8,["modelValue","placeholder"]),y(We,{modelValue:i.sendType,"onUpdate:modelValue":p[8]||(p[8]=le=>i.sendType=le),placeholder:"Select",size:"small",style:{width:"65px","margin-left":"5px"}},{default:S(()=>[y(pe,{label:d.$t("total"),value:"count"},null,8,["label"]),y(pe,{label:d.$t("daily"),value:"day"},null,8,["label"]),y(pe,{label:d.$t("btnBan"),value:"ban"},null,8,["label"])]),_:1},8,["modelValue"])])):P("",!0),se.permKey==="account:add"?(_(),R("span",{key:1,class:"send-num",onClick:p[11]||(p[11]=F(()=>{},["stop"]))},[y(Ke,{modelValue:i.accountCount,"onUpdate:modelValue":p[10]||(p[10]=le=>i.accountCount=le),"controls-position":"right",min:0,max:99999,size:"small",placeholder:d.$t("total")},null,8,["modelValue","placeholder"])])):P("",!0)])]),_:1},8,["data","default-expand-all"]),y(fe,{class:"btn",type:"primary",loading:r.value,onClick:ne},{default:S(()=>[Y($(d.$t("save")),1)]),_:1},8,["loading"])])]),_:1},8,["modelValue"])])}}}),Ao=cn(to,[["__scopeId","data-v-48b8a081"]]);export{Ao as default};
